repos:
  - repo: local
    hooks:
      - id: run-pytest-via-conda-shell
        name: Run Pytest via Conda Shell
        entry: bash -c
        language: system
        types: [python]
        args:
          - >
            source ~/miniconda3/etc/profile.d/conda.sh &&
            conda activate MacroSim &&
            pytest tests &&
            mypy macrosim/